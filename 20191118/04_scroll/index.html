<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="css/style.css">
</head>

<body>

    <div class="wrapper">
        <nav class="navigation" id="mainNav">
            <a class="nav-link" href="#section-1">Section 1</a>
            <a class="nav-link" href="#section-2">Section 2</a>
            <a class="nav-link" href="#section-3">Section 3</a>
            <a class="nav-link" href="#section-4">Section 4</a>
            <a class="nav-link" href="#section-5">Section 5</a>
        </nav>

        <section class="page-section" id="section-1">
            <h1>Section 1</h1>
        </section>
        <section class="page-section" id="section-2">
            <h1>Section 2</h1>
        </section>
        <section class="page-section" id="section-3">
            <h1>Section 3</h1>
        </section>
        <section class="page-section" id="section-4">
            <h1>Section 4</h1>
        </section>
        <section class="page-section" id="section-5">
            <h1>Section 5</h1>
        </section>
    </div>

<script src="js/jquery-3.4.1.min.js"></script>
<script type="text/javascript">

//Challenge load the page to animate to the section hash
$(document).ready(function() {
    $('.navigation a').on('click', function(e) {
        e.preventDefault();

        let target = $(this).attr("href");

        let targetPosition = $(target).offset().top;

        console.log(targetPosition);

        $('html, body').animate({
            scrollTop: targetPosition
        }, 800, function() {
            location.hash = target;
        });
    });


    if(window.location.hash) {
        console.log(window.location.hash);
        let elem = window.location.hash;
        let elemPosition = $(elem).offset().top;
        $('html, body').animate({
            scrollTop: elemPosition
        }, 200);
    }
});

$(window).scroll(function() {
    let scrollDistance = $(window).scrollTop();
    // console.log(scrollDistance);

    $('.page-section').each(function(i){
        if($(this).position().top <= scrollDistance) {
            $('.navigation a').removeClass('active');
            $('.navigation a').eq(i).addClass('active');
        }
    });
});
</script>
</body>
</html>